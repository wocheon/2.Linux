## AWS 인스턴스 유형별 성능 비교

| **인스턴스 패밀리**   | **사용 사례**                                 | **CPU**                             | **메모리**                          | **스토리지**                      | **특징**                                        | **성능 통찰**                                         |
|-----------------------|---------------------------------------------|-------------------------------------|-------------------------------------|-----------------------------------|-------------------------------------------------|-----------------------------------------------------|
| **T2 (버스트형)**     | 개발, 테스트, 소규모 웹 애플리케이션         | Intel Xeon (1세대)                  | 보통                               | EBS                               | 저비용, 일시적인 성능 상승을 지원하는 버스트형   | 저비용이지만 CPU 성능이 일시적으로 상승할 수 있음 |
| **T3 (버스트형)**     | 소규모 애플리케이션, 개발 및 테스트 환경      | Intel Xeon (2세대)                  | 보통                               | EBS                               | 향상된 CPU 성능, T2보다 더 높은 성능              | T2보다 성능이 향상되었으며, 다양한 워크로드에 적합 |
| **T4g (버스트형)**    | 일반적인 용도, 개발, 소규모 데이터베이스     | AWS Graviton2 (ARM 기반)            | 보통                               | EBS (Elastic Block Store)         | 비용 효율적, 버스트 가능한 CPU                   | 버스트 가능한 워크로드에 적합한 뛰어난 가격 성능 |
| **C5a, C5d, C5n, C5i (컴퓨팅 최적화)** | 고성능 컴퓨팅, 과학적 계산, 머신러닝            | AMD EPYC (C5a), Intel Xeon (C5 시리즈) | 균형 잡힌                          | EBS, 로컬 NVMe SSD (C5d, C5n)     | 높은 네트워크 성능, 다양한 워크로드에 적합       | C5n은 고속 네트워크 성능을 제공, C5i는 가격 효율적 |
| **C7g, C6g (컴퓨팅 최적화)** | 데이터 처리, 과학 시뮬레이션 등 컴퓨팅 집약적인 작업 | AWS Graviton3 (ARM 기반) / Intel  | 균형 잡힌                          | EBS                               | CPU 집약적인 작업에 최적화된 인스턴스           | Graviton3는 이전 세대보다 성능과 비용이 개선됨 |
| **D2 (스토리지 최적화)** | 빅 데이터 분석, 데이터 웨어하우징, Hadoop     | Intel Xeon (고속)                   | 높은 메모리                        | 로컬 HDD (대용량)                 | 대용량 스토리지 및 데이터 집약적인 작업에 최적화  | 대용량 스토리지 및 고속 I/O 성능을 제공 |
| **M6g, M5 (균형형)**  | 일반적인 용도, 엔터프라이즈 앱, 데이터베이스  | AWS Graviton2 (ARM 기반) / Intel  | 균형 잡힌                          | EBS                               | 다목적, 다양한 애플리케이션에 적합               | Graviton2는 Intel 모델보다 가격 성능이 개선됨 |
| **I3, I3en (스토리지 최적화)** | 고속 IOPS, 데이터 웨어하우징, 로그 처리      | Intel Xeon (고속)                   | 균형 잡힌                          | 로컬 SSD, EBS                    | 고속 스토리지 처리 및 낮은 대기 시간 I/O          | 스토리지 중심의 작업에 적합하며 높은 IOPS 성능 제공 |
| **R6g, R5 (메모리 최적화)** | 인메모리 데이터베이스, 빅 데이터 분석        | AWS Graviton2 (ARM 기반) / Intel  | 높은 메모리-CPU 비율                | EBS                               | 메모리 중심, 고용량 RAM 요구에 최적화            | R6g는 메모리 집약적인 작업에서 가격 성능이 우수 |
| **P4, P3 (GPU 최적화)** | 딥러닝, 고성능 컴퓨팅, AI 응용 프로그램        | NVIDIA A100 / NVIDIA K80 GPU        | 높은 메모리                        | 로컬 SSD, EBS                    | GPU 기반, AI, ML, 그래픽 집약적인 작업에 적합     | P4는 A100 GPU를 사용하여 ML 워크로드에 뛰어난 성능 |
| **F1 (가속화 컴퓨팅)** | 맞춤형 응용 프로그램, FPGA 작업               | Intel Xeon (고속)                   | 보통                               | 로컬 SSD, EBS                    | FPGA 기반 가속, 맞춤형 워크로드에 최적화           | FPGA 기반 애플리케이션에 적합 (예: 유전자 분석, 암호화) |
| **Inf1 (가속화 컴퓨팅)** | 머신러닝 추론 작업                           | Intel Xeon (2세대) + AWS Inferentia 칩 | 보통                               | EBS                               | ML 추론 최적화, 저비용 및 저지연 성능 제공       | 머신러닝 추론에서 비용 효율적인 성능 제공 |

### 성능 차이점:
- **T2 vs T3**: T2는 이전 세대 인스턴스로 CPU 성능이 일시적으로 상승할 수 있는 버스트형 인스턴스입니다. 반면 T3는 더 향상된 성능과 더 긴 지속적인 CPU 성능을 제공하며, 비용 효율성도 높아졌습니다.
- **Graviton 기반 인스턴스**: AWS의 Graviton2(ARM 기반) 인스턴스는 비용 대비 성능이 뛰어나며, 특히 M6g, R6g와 같은 메모리 및 컴퓨팅 최적화된 인스턴스에서 성능이 크게 향상되었습니다.
- **C5a, C5d, C5n, C5i**: C5a는 AMD EPYC 프로세서를 사용하고, C5는 Intel Xeon 프로세서를 사용합니다. C5d와 C5n은 로컬 SSD 및 고속 네트워크 성능을 제공합니다. C5i는 더 가격 효율적인 모델로, 네트워크 성능과 가격 간 균형이 뛰어납니다.
- **D2**: 대규모 데이터 처리와 분석을 위한 인스턴스로, 로컬 HDD를 사용하여 대용량 스토리지 성능을 제공합니다. 특히 빅 데이터 분석과 같은 데이터 집약적인 작업에 적합합니다.

네, 맞습니다! **CPU 크레딧**은 **VM 내부적으로 관리되는 토큰**과 같은 개념입니다. AWS에서 CPU 크레딧은 각 인스턴스에 대해 **자동으로 추적되고 관리**되며, CPU 성능을 버스트 가능한 상태로 만들기 위해 사용됩니다.


## CPU Credit 관련 사항 

### CPU 크레딧의 관리 방식
1. **VM 내부에서 관리**: 
   - 각 인스턴스는 **크레딧 토큰**을 내부적으로 관리하고 있습니다. CPU 사용량이 기본 성능보다 적으면 크레딧이 **축적**되고, 성능을 **버스트**할 필요가 있을 때 이 크레딧을 **소모**합니다.
   - 인스턴스가 실행되는 동안, AWS는 이 크레딧의 수치를 추적하고, 필요할 때 자동으로 **버스트 성능**을 허용하는 방식으로 동작합니다.

2. **크레딧 축적**:
   - CPU 사용량이 기본 성능 이하일 때는 크레딧이 축적됩니다. 예를 들어, 인스턴스의 CPU 사용률이 낮을 경우, 그 시간 동안 **크레딧이 증가**합니다.
   - 이 크레딧은 일종의 "저축"처럼 관리되어, 나중에 필요할 때 **버스트 성능**을 제공하는 데 사용됩니다.

3. **크레딧 소모**:
   - CPU 사용량이 기본 성능을 초과하면, 이 초과된 부분에 대한 성능을 제공하기 위해 **크레딧을 소모**합니다.
   - 크레딧이 소진되면, 성능은 기본 성능으로 제한되며, 성능 저하가 발생할 수 있습니다.

4. **'Unlimited' 모드** (t3 인스턴스에서만 해당):
   - **t3** 인스턴스는 기본적으로 **'unlimited' 모드**를 활성화하여, 크레딧이 부족하더라도 CPU 성능을 **확장**할 수 있습니다.
   - 이 경우, 크레딧이 부족하면 성능을 확장하는데 **추가 비용**이 발생할 수 있지만, 성능 제한 없이 계속 작업을 수행할 수 있습니다.

### 요약
- **CPU 크레딧**은 각 인스턴스가 **내부적으로 관리하는 토큰**이며, CPU 사용량에 따라 **축적**되고, 필요할 때 **소모**됩니다. 이를 통해 AWS는 인스턴스가 효율적으로 **버스트 성능**을 제공할 수 있게 합니다.
- 이 방식은 **t2** 인스턴스와 **t3** 인스턴스의 **주요 차이점** 중 하나로, t3는 **'unlimited' 모드**로 추가 비용을 지불하면 크레딧 소진 이후에도 성능을 확장할 수 있습니다.
